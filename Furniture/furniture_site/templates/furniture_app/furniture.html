{% extends 'furniture_app/base.html'%}

{% block content %}
     <div class="margin-furniture container px-4">
      <div class="row gx-5 mt-3">
          <div class="col mb-5">
                <div class="card h-100">
                    <!-- Item image-->
                    {% for i in product.productimage_set.all %}
                        {% if i.image %}
                            <img class="card-img-top" src="{{i.image.url}}" alt="..." />
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        <div class="col">
            <h2>{{ product.title }}</h2>
            <div class="p-3 bg-light">
                <p class="h5">Цена: {{ product.price }}</p>
            </div>
         <div class="p-3 bg-light">
             <ul class="nav nav-tabs" id="myTab" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="desc-tab" data-bs-toggle="tab" data-bs-target="#desc" type="button" role="tab" aria-controls="home" aria-selected="true">Описание</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link" id="short_desc-tab" data-bs-toggle="tab" data-bs-target="#short_desc" type="button" role="tab" aria-controls="profile" aria-selected="false">Характеристики</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Contact</button>
                  </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                  <div class="tab-pane fade show active" id="desc" role="tabpanel" aria-labelledby="home-tab"><p class="mt-3">{{ product.description }}</p></div>
                  <div class="tab-pane fade" id="short_desc" role="tabpanel" aria-labelledby="short_desc-tab"><p class="mt-3">{{ product.short_description }}</p></div>
                  <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>
                </div>
         </div>
            <div class="mt-2 mb-4">
                <form id="form_buying_product" class="form-inline" action="{% url 'cart_adding' %}">{% csrf_token %}
                        <div class="form-group">
                             <input type="number" class="form-control" name="count" id="count" min="1" max="50" value="1">
                        </div>
                            <div class="form-group mt-2">
                                <button type="submit" id="submit_btn" class="btn btn-success btn-buy"
                                    data-product_id = "{{ product.id }}"
                                    data-title ="{{ product.title }}"
                                    data-price ="{{ product.price }}">
                                    Купить
                                </button>
                            </div>
                    </form>
            </div>
        </div>
      </div>
     </div>
{% endblock %}